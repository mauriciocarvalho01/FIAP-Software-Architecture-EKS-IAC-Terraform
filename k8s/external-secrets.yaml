
apiVersion: v1
kind: Secret
metadata:
  name: awssm-secret
  namespace: fiap
type: Opaque
data:
  access-key: QVNJQTUzNU1MUlBORVI2TllXRk4=
  secret-access-key: LzdvS1lRZzdFV0ZKcFdSdjFvc29qaTBFRVZsNkVaeXY1SWZrT3dERQ==
  session-token: SVFvSmIzSnBaMmx1WDJWakVBTWFDWFZ6TFhkbGMzUXRNaUpITUVVQ0lHaEZyQ3ZtYnVvRkFuRXM3SDB6RUxYNnduYmhpWDZ2OFZsNmFCOFlJQUZ1QWlFQXd1OFRwbEliRE1qS0Q5TjZ0bG1tdjNHRFdmK3pCOUd3VXFucFRXSUlGdndxd2dJSXJQLy8vLy8vLy8vL0FSQUFHZ3c1TlRNek1EY3pNelUyTkRJaUROUXZDWmxKYUhFU2lCL25yQ3FXQXBvRVE1cS9Xak9KSndEeERoUXVMRTdmS0NLa3QraFQ1NUkvRlo2V1ZtUVVFay90eFY2UlRyZ1V0eVdWQUhBRURNLzBLRk9Gd25NbkRiVzZkS2lzME9ONUo0L3Q5WDR6TnRWTzVRYURrOGtLc0Vrb1luMnVkeUN0N2x6dnBFSDNWUnhFbms5YmRwR09jL1dPbWtuUmNkQzBtWUxyMVFLT3AwNk11cEpQWFczZ2d6ZUkwRkZsbU5RZlRMenpZN0h4Mzg2MWp0dUE4MWZLT1RKc0lwRzJoL3c4amhGQ1ZDajZic2VaVGdHSVc2YmlFUXBqbkExbjlZajgvSnJnSHRlM29jaUYrcnFwVDlFV3ZPQU9kNk9iZHBMblpMWkxZMTlqN0prZUwxSndWckVGUFZkYlhQYmRQMUpKeGk5cHZIdk1CQm5aWjBVVStnbVhxQW1DbGM5VjhiVEFST3JxWTRJaVdpeXA1akVYTUVNSUFIWUNkbXA0TUxUVnNyb0dPcDBCbGVCZEorVmlwVERxRExubG1sMlBaVnVQYmM0bkZBYkVvcFJWczN2cmkyUHRTZkF5ZTJ1VjRvd1ZBak5rd2E2cHZRZ2U1OTUxUnhIOHBvaUVqU1h0QStIYlRzOXJjZ05DZWh4MEY4cktKWUtBSFRQQ1NUbFVCTVhpWXArUmxmZEh0QUJCNnV2RVl4d2c2SDNXVTJEaXgzdXV3WlVhRVgyY2hIMUd1S3NjVFRCdHBzcVhhWlZyRE1zQlZ0ZkEzK3grNVZjbkZXcEZ2M0syTjQ0dFRRPT0=
  
---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: restaurante-acme-secretstore
  namespace: fiap
spec:
  provider:
    aws:
      service: SecretsManager
      # define a specific role to limit access
      # to certain secrets.
      # role is a optional field that
      # can be omitted for test purposes
      region: us-east-1
      auth:
        secretRef:
          accessKeyIDSecretRef:
            name: awssm-secret
            key: access-key
            namespace: fiap
          secretAccessKeySecretRef:
            name: awssm-secret
            key: secret-access-key
            namespace: fiap
          sessionTokenSecretRef:
            name: awssm-secret
            key: session-token
            namespace: fiap
